{% extends "base.html" %}

{% block title %}Journal Entries - {{ account.name }} - Personal Finance Accounting{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Journal Entries for {{ account.name }}</h1>
    <a href="{{ url_for('reports.networth', period=period) }}" class="btn btn-secondary">Back to Report</a>
</div>

{% if start_date and end_date %}
<p class="report-date">For the period: {{ start_date.strftime('%B %d, %Y') }} to {{ end_date.strftime('%B %d, %Y') }}</p>
{% endif %}

{% if entries %}
    {% for entry in entries %}
    <div class="form" style="margin-bottom: 1rem;">
        <strong>{{ entry.entry_date.strftime('%Y-%m-%d') }}</strong> â€” {{ entry.description }}
        <table class="table" style="margin-top: 0.5rem;">
            <thead>
                <tr>
                    <th>Account</th>
                    <th>Type</th>
                    <th>Amount</th>
                </tr>
            </thead>
            <tbody>
                {% for line in entry.transaction_lines %}
                <tr>
                    <td{% if line.line_type == 'CREDIT' %} class="credit-line"{% endif %}>{{ line.account.name }}</td>
                    <td>{{ line.line_type }}</td>
                    <td class="amount">{{ "%.2f"|format(line.amount) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% endfor %}
{% else %}
<p>No journal entries found for this account in the selected period.</p>
{% endif %}

{% endblock %}