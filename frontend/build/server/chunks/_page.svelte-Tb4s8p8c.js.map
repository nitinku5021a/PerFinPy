{"version":3,"file":"_page.svelte-Tb4s8p8c.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/networth/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as add_attribute, v as validate_component } from \"../../../chunks/ssr.js\";\nimport { N as NetworthMatrixTable } from \"../../../chunks/NetworthMatrixTable.js\";\nimport { f as formatInr } from \"../../../chunks/format.js\";\nfunction isDisplayedNonZero(val) {\n  const num = Number(val) || 0;\n  return Math.round(num) !== 0;\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let latestKey;\n  let filteredGroups;\n  let data = [];\n  let months = [];\n  let showZero = false;\n  latestKey = months.length ? months[0].key : null;\n  filteredGroups = !latestKey ? data : data.map((g) => {\n    const parents = (g.parents || []).map((p) => {\n      const accounts = (p.accounts || []).filter((a) => {\n        return months.some((mm) => {\n          const val = a.monthly_balances?.[mm.key] ?? 0;\n          return isDisplayedNonZero(val);\n        });\n      });\n      const keepParent = months.some((m) => {\n        const val = p.monthly_balances?.[m.key] ?? 0;\n        return isDisplayedNonZero(val);\n      }) || accounts.length > 0;\n      return keepParent ? { ...p, accounts } : null;\n    }).filter(Boolean);\n    return { ...g, parents };\n  }).filter((g) => g.parents && g.parents.length > 0);\n  return `<h1 class=\"page-title\" data-svelte-h=\"svelte-vgf76k\">Net Worth</h1> <p class=\"page-subtitle\" data-svelte-h=\"svelte-1m62oqs\">Last 12 months across asset and liability groups.</p> ${``} <div class=\"toolbar\"><label><input type=\"checkbox\"${add_attribute(\"checked\", showZero, 1)}>\n    Â Show zero balances (latest month)</label> <button class=\"button\" ${\"disabled\"}>Prev 12</button> <button class=\"button\" ${\"disabled\"}>Next 12</button></div> ${validate_component(NetworthMatrixTable, \"NetworthMatrixTable\").$$render(\n    $$result,\n    {\n      groups: filteredGroups,\n      months,\n      formatValue: formatInr,\n      drillMode: \"upto\",\n      networthLabel: \"NETWORTH\",\n      networthByMonth: (() => {\n        const assets = data?.find((g) => g.group === \"Assets\");\n        const liabilities = data?.find((g) => g.group === \"Liabilities\");\n        if (!assets || !liabilities) return null;\n        return Object.fromEntries(months.map((m) => [\n          m.key,\n          (assets.monthly_balances?.[m.key] || 0) + (liabilities.monthly_balances?.[m.key] || 0)\n        ]));\n      })()\n    },\n    {},\n    {}\n  )}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}