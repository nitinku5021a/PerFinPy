{"version":3,"file":"_page.svelte-5FXa6Ule.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/transactions/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as add_attribute, g as escape, e as each, v as validate_component } from \"../../../chunks/ssr.js\";\nimport { T as Table } from \"../../../chunks/Table.js\";\nimport { f as formatInr } from \"../../../chunks/format.js\";\nfunction toLocalDate(d) {\n  const mm = String(d.getMonth() + 1).padStart(2, \"0\");\n  const dd = String(d.getDate()).padStart(2, \"0\");\n  return `${d.getFullYear()}-${mm}-${dd}`;\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let sums;\n  let totals;\n  let months = [];\n  let activeMonth = \"\";\n  let exportAll = false;\n  let entryDate = toLocalDate(/* @__PURE__ */ new Date());\n  let debitQuery = \"\";\n  let creditQuery = \"\";\n  let amount = \"\";\n  let description = \"\";\n  let debitInput;\n  const columns = [\n    {\n      header: \"Date\",\n      render: (row) => row.entry_date\n    },\n    {\n      header: \"Debit Account\",\n      render: (row) => row.debit_account\n    },\n    {\n      header: \"Amount\",\n      render: (row) => formatInr(row.amount),\n      align: \"right\"\n    },\n    {\n      header: \"Description\",\n      render: (row) => row.description\n    },\n    {\n      header: \"Credit Account\",\n      render: (row) => row.credit_account\n    }\n  ];\n  sums = {\n    Asset: [],\n    Liability: [],\n    Income: [],\n    Expense: []\n  };\n  totals = {\n    Asset: Math.round(sums.Asset?.reduce((acc, item) => acc + (Number(item.value) || 0), 0) || 0),\n    Liability: Math.round(sums.Liability?.reduce((acc, item) => acc + (Number(item.value) || 0), 0) || 0),\n    Income: Math.round(sums.Income?.reduce((acc, item) => acc + (Number(item.value) || 0), 0) || 0),\n    Expense: Math.round(sums.Expense?.reduce((acc, item) => acc + (Number(item.value) || 0), 0) || 0)\n  };\n  [].filter((a) => a.is_leaf);\n  return `<h1 class=\"page-title\" data-svelte-h=\"svelte-11exuoa\">Transactions</h1> <p class=\"page-subtitle\" data-svelte-h=\"svelte-qoq1lg\">Journal entries and filters.</p> ${``} <div class=\"panel\"><div class=\"toolbar\"><label>Import Excel: \n      <input type=\"file\" accept=\".xlsx,.xls\"></label> <button class=\"button\" data-svelte-h=\"svelte-1d3uwqb\">Export Excel</button> <label class=\"meta\"><input type=\"checkbox\"${add_attribute(\"checked\", exportAll, 1)}>\n       Export all</label> ${``} ${``}</div></div> <div class=\"panel\"><div class=\"toolbar entry-form\"><label>Date: \n      <input type=\"date\"${add_attribute(\"value\", entryDate, 0)}></label> <div class=\"autocomplete\"><label data-svelte-h=\"svelte-93b3m6\">Debit: </label> <input type=\"text\" placeholder=\"Type to search\"${add_attribute(\"this\", debitInput, 0)}${add_attribute(\"value\", debitQuery, 0)}> ${``}</div> <label>Amount: \n      <input type=\"number\" step=\"0.01\"${add_attribute(\"value\", amount, 0)}></label> <label>Desc: \n      <input type=\"text\"${add_attribute(\"value\", description, 0)}></label> <div class=\"autocomplete\"><label data-svelte-h=\"svelte-370heb\">Credit: </label> <input type=\"text\" placeholder=\"Type to search\"${add_attribute(\"value\", creditQuery, 0)}> ${``}</div> <button class=\"button\" data-svelte-h=\"svelte-1qco16o\">Add</button> ${``} ${``}</div></div> <div class=\"toolbar\"><button class=\"button\" data-svelte-h=\"svelte-xecaum\">Prev 12</button> <button class=\"button\" data-svelte-h=\"svelte-1xnoe69\">Next 12</button> <label>Period: \n    <select><option value=\"current_month\" data-svelte-h=\"svelte-ifagp3\">Current Month</option><option value=\"ytd\" data-svelte-h=\"svelte-ne2kh5\">Year to Date</option><option value=\"all\" data-svelte-h=\"svelte-421o1o\">All</option><option value=\"custom\" data-svelte-h=\"svelte-tc3t8p\">Custom Range</option></select></label> ${``} <label>Account: \n    <select><option value=\"all\" data-svelte-h=\"svelte-aq5lji\">All Accounts</option>${``}</select></label> <span class=\"meta\">Total: ${escape(0)} entries</span></div> <div class=\"tabs\">${each(months, (m) => {\n    return `<button${add_attribute(\"class\", `tab ${activeMonth === m.key ? \"active\" : \"\"}`, 0)}>${escape(m.label)} </button>`;\n  })}</div> <div class=\"split\"><div>${validate_component(Table, \"Table\").$$render($$result, { columns, rows: [] }, {}, {})} <div class=\"toolbar\"><button class=\"button\" ${\"disabled\"}>Prev Page</button> <span class=\"meta\">Page ${escape(1)} / ${escape(1)}</span> <button class=\"button\" ${\"disabled\"}>Next Page</button></div></div> <div><div class=\"table-wrap\"><table class=\"table\"><thead><tr><th>Asset <span class=\"meta\">(${escape(formatInr(totals.Asset))})</span></th> <th>Liability <span class=\"meta\">(${escape(formatInr(totals.Liability))})</span></th> <th>Income <span class=\"meta\">(${escape(formatInr(totals.Income))})</span></th> <th>Expense <span class=\"meta\">(${escape(formatInr(totals.Expense))})</span></th></tr></thead> <tbody><tr><td>${each([], (item) => {\n    return `<div class=\"list-row\"><span>${escape(item.name)}</span> <span class=\"num\">${escape(formatInr(item.value))}</span> </div>`;\n  })}</td> <td>${each([], (item) => {\n    return `<div class=\"list-row\"><span>${escape(item.name)}</span> <span class=\"num\">${escape(formatInr(item.value))}</span> </div>`;\n  })}</td> <td>${each([], (item) => {\n    return `<div class=\"list-row\"><span>${escape(item.name)}</span> <span class=\"num\">${escape(formatInr(item.value))}</span> </div>`;\n  })}</td> <td>${each([], (item) => {\n    return `<div class=\"list-row\"><span>${escape(item.name)}</span> <span class=\"num\">${escape(formatInr(item.value))}</span> </div>`;\n  })}</td></tr></tbody></table></div></div></div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}