{"version":3,"file":"NetworthMatrixTable-CYn4hnJR.js","sources":["../../../.svelte-kit/adapter-node/chunks/NetworthMatrixTable.js"],"sourcesContent":["import { c as create_ssr_component, e as each, g as escape, d as add_attribute } from \"./ssr.js\";\nfunction monthEnd(key) {\n  const [y, m] = key.split(\"-\");\n  const end = new Date(Number(y), Number(m), 0);\n  return end.toISOString().slice(0, 10);\n}\nconst NetworthMatrixTable = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { groups = [] } = $$props;\n  let { months = [] } = $$props;\n  let { formatValue = (val) => val ?? \"\" } = $$props;\n  let { networthByMonth = null } = $$props;\n  let { networthLabel = \"NETWORTH\" } = $$props;\n  let { drillMode = null } = $$props;\n  function valueHref(accountId, monthKey) {\n    if (!accountId || !drillMode) return null;\n    if (drillMode === \"month\") {\n      return `/journal-entries?account_id=${accountId}&mode=month&month=${monthKey}`;\n    }\n    if (drillMode === \"upto\") {\n      return `/journal-entries?account_id=${accountId}&mode=upto&end=${monthEnd(monthKey)}`;\n    }\n    return null;\n  }\n  if ($$props.groups === void 0 && $$bindings.groups && groups !== void 0) $$bindings.groups(groups);\n  if ($$props.months === void 0 && $$bindings.months && months !== void 0) $$bindings.months(months);\n  if ($$props.formatValue === void 0 && $$bindings.formatValue && formatValue !== void 0) $$bindings.formatValue(formatValue);\n  if ($$props.networthByMonth === void 0 && $$bindings.networthByMonth && networthByMonth !== void 0) $$bindings.networthByMonth(networthByMonth);\n  if ($$props.networthLabel === void 0 && $$bindings.networthLabel && networthLabel !== void 0) $$bindings.networthLabel(networthLabel);\n  if ($$props.drillMode === void 0 && $$bindings.drillMode && drillMode !== void 0) $$bindings.drillMode(drillMode);\n  return `<div class=\"matrix-wrap\"><table class=\"matrix-table\"><thead><tr><th class=\"sticky-col sticky-col-1\" data-svelte-h=\"svelte-5o8ssu\">Account</th> ${each(months, (m) => {\n    return `<th class=\"num\">${escape(m.label)}</th>`;\n  })}</tr></thead> <tbody>${networthByMonth ? `<tr class=\"networth-row\"><td class=\"sticky-col sticky-col-1 networth-label\">${escape(networthLabel)}</td> ${each(months, (m) => {\n    return `<td class=\"num networth-value\">${escape(formatValue(networthByMonth[m.key]))}</td>`;\n  })}</tr>` : ``} ${each(groups, (group, gi) => {\n    return `<tr class=\"group-row\"><td class=\"sticky-col sticky-col-1 group-indent\">${escape(group.group)}</td> ${each(months, (m) => {\n      return `<td class=\"num\">${escape(formatValue(group.monthly_balances?.[m.key]))}</td>`;\n    })}</tr> ${each(group.parents, (parent) => {\n      return `<tr${add_attribute(\"class\", `parent-row ${gi % 2 === 0 ? \"group-alt-a\" : \"group-alt-b\"}`, 0)}><td class=\"sticky-col sticky-col-1 parent-indent\">${parent.account_id ? `<a class=\"drill-link\"${add_attribute(\"href\", `/journal-entries?account_id=${parent.account_id}`, 0)}>${escape(parent.name)}</a>` : `${escape(parent.name)}`}</td> ${each(months, (m) => {\n        return `<td class=\"num\">${valueHref(parent.account_id, m.key) ? `<a class=\"drill-link\"${add_attribute(\"href\", valueHref(parent.account_id, m.key), 0)}>${escape(formatValue(parent.monthly_balances?.[m.key]))} </a>` : `${escape(formatValue(parent.monthly_balances?.[m.key]))}`} </td>`;\n      })}</tr> ${each(parent.accounts, (acc) => {\n        return `<tr${add_attribute(\"class\", gi % 2 === 0 ? \"group-alt-a\" : \"group-alt-b\", 0)}><td class=\"sticky-col sticky-col-1 account-indent\">${acc.account_id ? `<a class=\"drill-link\"${add_attribute(\"href\", `/journal-entries?account_id=${acc.account_id}`, 0)}>${escape(acc.name)}</a>` : `${escape(acc.name)}`}</td> ${each(months, (m) => {\n          return `<td class=\"num\">${valueHref(acc.account_id, m.key) ? `<a class=\"drill-link\"${add_attribute(\"href\", valueHref(acc.account_id, m.key), 0)}>${escape(formatValue(acc.monthly_balances?.[m.key]))} </a>` : `${escape(formatValue(acc.monthly_balances?.[m.key]))}`} </td>`;\n        })} </tr>`;\n      })}`;\n    })}`;\n  })}</tbody></table></div>`;\n});\nexport {\n  NetworthMatrixTable as N\n};\n"],"names":[],"mappings":"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"}