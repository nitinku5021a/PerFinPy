import{s as at,a as lt,o as nt}from"../chunks/scheduler.DXwQMlsl.js";import{S as st,i as ot,d as p,m as it,n as rt,o as ut,s as et,p as Z,a as E,b as u,q as ct,r as _t,k as S,u as N,c,l as O,g as q,e as j,f as D,v as pt,h as _,j as L,t as F,w as ft,x as vt}from"../chunks/index.BwbdioCG.js";import{f as dt,a as mt}from"../chunks/format.j6oJxotq.js";import{T as ht}from"../chunks/Table.BaPFpwIW.js";function tt(s){let l,f;return{c(){l=_("p"),f=F(s[1]),this.h()},l(i){l=c(i,"P",{class:!0});var a=j(l);f=D(a,s[1]),a.forEach(p),this.h()},h(){S(l,"class","danger")},m(i,a){E(i,l,a),u(l,f)},p(i,a){a&2&&et(f,i[1])},d(i){i&&p(l)}}}function Ct(s){let l,f="Accounts",i,a,g="Chart of accounts and structure.",I,y,v,e,G,w=s[2].length+"",B,M,$,V,r,d,K="All",m,Q="Asset",h,R="Liability",C,U="Equity",x,W="Income",b,X="Expense",H,T,k,z,Y,o=s[1]&&tt(s);return T=new ht({props:{columns:s[3],rows:s[2],allowHtml:!0}}),{c(){l=_("h1"),l.textContent=f,i=L(),a=_("p"),a.textContent=g,I=L(),o&&o.c(),y=L(),v=_("div"),e=_("span"),G=F("Total: "),B=F(w),M=L(),$=_("label"),V=F(`Type: \r
    `),r=_("select"),d=_("option"),d.textContent=K,m=_("option"),m.textContent=Q,h=_("option"),h.textContent=R,C=_("option"),C.textContent=U,x=_("option"),x.textContent=W,b=_("option"),b.textContent=X,H=L(),ft(T.$$.fragment),this.h()},l(t){l=c(t,"H1",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-ckpwg5"&&(l.textContent=f),i=q(t),a=c(t,"P",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-1pepg66"&&(a.textContent=g),I=q(t),o&&o.l(t),y=q(t),v=c(t,"DIV",{class:!0});var n=j(v);e=c(n,"SPAN",{class:!0});var A=j(e);G=D(A,"Total: "),B=D(A,w),A.forEach(p),M=q(n),$=c(n,"LABEL",{});var J=j($);V=D(J,`Type: \r
    `),r=c(J,"SELECT",{});var P=j(r);d=c(P,"OPTION",{"data-svelte-h":!0}),O(d)!=="svelte-421o1o"&&(d.textContent=K),m=c(P,"OPTION",{"data-svelte-h":!0}),O(m)!=="svelte-17u4uly"&&(m.textContent=Q),h=c(P,"OPTION",{"data-svelte-h":!0}),O(h)!=="svelte-13wai1o"&&(h.textContent=R),C=c(P,"OPTION",{"data-svelte-h":!0}),O(C)!=="svelte-1r5iq36"&&(C.textContent=U),x=c(P,"OPTION",{"data-svelte-h":!0}),O(x)!=="svelte-1dc872i"&&(x.textContent=W),b=c(P,"OPTION",{"data-svelte-h":!0}),O(b)!=="svelte-g8868e"&&(b.textContent=X),P.forEach(p),J.forEach(p),n.forEach(p),H=q(t),pt(T.$$.fragment,t),this.h()},h(){S(l,"class","page-title"),S(a,"class","page-subtitle"),S(e,"class","meta"),d.__value="all",N(d,d.__value),m.__value="Asset",N(m,m.__value),h.__value="Liability",N(h,h.__value),C.__value="Equity",N(C,C.__value),x.__value="Income",N(x,x.__value),b.__value="Expense",N(b,b.__value),s[0]===void 0&&lt(()=>s[5].call(r)),S(v,"class","toolbar")},m(t,n){E(t,l,n),E(t,i,n),E(t,a,n),E(t,I,n),o&&o.m(t,n),E(t,y,n),E(t,v,n),u(v,e),u(e,G),u(e,B),u(v,M),u(v,$),u($,V),u($,r),u(r,d),u(r,m),u(r,h),u(r,C),u(r,x),u(r,b),Z(r,s[0],!0),E(t,H,n),ct(T,t,n),k=!0,z||(Y=_t(r,"change",s[5]),z=!0)},p(t,[n]){t[1]?o?o.p(t,n):(o=tt(t),o.c(),o.m(y.parentNode,y)):o&&(o.d(1),o=null),(!k||n&4)&&w!==(w=t[2].length+"")&&et(B,w),n&1&&Z(r,t[0]);const A={};n&4&&(A.rows=t[2]),T.$set(A)},i(t){k||(ut(T.$$.fragment,t),k=!0)},o(t){rt(T.$$.fragment,t),k=!1},d(t){t&&(p(l),p(i),p(a),p(I),p(y),p(v),p(H)),o&&o.d(t),it(T,t),z=!1,Y()}}}function xt(s,l,f){let i,a=[],g="all",I="";nt(async()=>{try{const e=await mt("/transactions/accounts");f(4,a=e.accounts||[])}catch(e){f(1,I=e.message||"Failed to load.")}});const y=[{header:"Account",render:e=>`<a href="/journal-entries?account_id=${e.id}&period=ytd">${e.path}</a>`},{header:"Type",render:e=>e.account_type},{header:"Opening Balance",render:e=>dt(e.opening_balance),align:"right"},{header:"Status",render:e=>e.is_active?"Active":"Inactive"}];function v(){g=vt(this),f(0,g)}return s.$$.update=()=>{s.$$.dirty&17&&f(2,i=g==="all"?a:a.filter(e=>e.account_type===g))},[g,I,i,y,a,v]}class Ot extends st{constructor(l){super(),ot(this,l,xt,Ct,at,{})}}export{Ot as component};
