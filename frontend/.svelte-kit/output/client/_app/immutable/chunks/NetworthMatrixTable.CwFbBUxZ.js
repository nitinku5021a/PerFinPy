import{s as te,n as q}from"./scheduler.DXwQMlsl.js";import{S as ne,i as re,d as k,A as L,a as w,b as p,k as v,c as y,e as T,l as oe,g as B,h as E,j as N,s as M,f as A,t as j,B as O}from"./index.BwbdioCG.js";import{e as D}from"./each.D6YF6ztN.js";function W(a,e,l){const t=a.slice();return t[7]=e[l],t[9]=l,t}function Y(a,e,l){const t=a.slice();return t[10]=e[l],t}function z(a,e,l){const t=a.slice();return t[13]=e[l],t}function F(a,e,l){const t=a.slice();return t[16]=e[l],t}function G(a,e,l){const t=a.slice();return t[16]=e[l],t}function I(a,e,l){const t=a.slice();return t[16]=e[l],t}function J(a,e,l){const t=a.slice();return t[16]=e[l],t}function P(a,e,l){const t=a.slice();return t[16]=e[l],t}function Q(a){let e,l=a[16].label+"",t;return{c(){e=E("th"),t=j(l),this.h()},l(r){e=y(r,"TH",{class:!0});var o=T(e);t=A(o,l),o.forEach(k),this.h()},h(){v(e,"class","num")},m(r,o){w(r,e,o),p(e,t)},p(r,o){o&2&&l!==(l=r[16].label+"")&&M(t,l)},d(r){r&&k(e)}}}function U(a){let e,l,t,r,o=D(a[1]),n=[];for(let c=0;c<o.length;c+=1)n[c]=X(J(a,o,c));return{c(){e=E("tr"),l=E("td"),t=j(a[4]),r=N();for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=y(c,"TR",{class:!0});var u=T(e);l=y(u,"TD",{class:!0});var f=T(l);t=A(f,a[4]),f.forEach(k),r=B(u);for(let s=0;s<n.length;s+=1)n[s].l(u);u.forEach(k),this.h()},h(){v(l,"class","sticky-col sticky-col-1 networth-label"),v(e,"class","networth-row")},m(c,u){w(c,e,u),p(e,l),p(l,t),p(e,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null)},p(c,u){if(u&16&&M(t,c[4]),u&14){o=D(c[1]);let f;for(f=0;f<o.length;f+=1){const s=J(c,o,f);n[f]?n[f].p(s,u):(n[f]=X(s),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=o.length}},d(c){c&&k(e),L(n,c)}}}function X(a){let e,l=a[2](a[3][a[16].key])+"",t;return{c(){e=E("td"),t=j(l),this.h()},l(r){e=y(r,"TD",{class:!0});var o=T(e);t=A(o,l),o.forEach(k),this.h()},h(){v(e,"class","num networth-value")},m(r,o){w(r,e,o),p(e,t)},p(r,o){o&14&&l!==(l=r[2](r[3][r[16].key])+"")&&M(t,l)},d(r){r&&k(e)}}}function Z(a){var r;let e,l=a[2]((r=a[7].monthly_balances)==null?void 0:r[a[16].key])+"",t;return{c(){e=E("td"),t=j(l),this.h()},l(o){e=y(o,"TD",{class:!0});var n=T(e);t=A(n,l),n.forEach(k),this.h()},h(){v(e,"class","num")},m(o,n){w(o,e,n),p(e,t)},p(o,n){var c;n&7&&l!==(l=o[2]((c=o[7].monthly_balances)==null?void 0:c[o[16].key])+"")&&M(t,l)},d(o){o&&k(e)}}}function ae(a){let e=a[10].name+"",l;return{c(){l=j(e)},l(t){l=A(t,e)},m(t,r){w(t,l,r)},p(t,r){r&1&&e!==(e=t[10].name+"")&&M(l,e)},d(t){t&&k(l)}}}function ce(a){let e,l=a[10].name+"",t,r;return{c(){e=E("a"),t=j(l),this.h()},l(o){e=y(o,"A",{class:!0,href:!0});var n=T(e);t=A(n,l),n.forEach(k),this.h()},h(){v(e,"class","drill-link"),v(e,"href",r=`/journal-entries?account_id=${a[10].account_id}`)},m(o,n){w(o,e,n),p(e,t)},p(o,n){n&1&&l!==(l=o[10].name+"")&&M(t,l),n&1&&r!==(r=`/journal-entries?account_id=${o[10].account_id}`)&&v(e,"href",r)},d(o){o&&k(e)}}}function ie(a){var t;let e=a[2]((t=a[10].monthly_balances)==null?void 0:t[a[16].key])+"",l;return{c(){l=j(e)},l(r){l=A(r,e)},m(r,o){w(r,l,o)},p(r,o){var n;o&7&&e!==(e=r[2]((n=r[10].monthly_balances)==null?void 0:n[r[16].key])+"")&&M(l,e)},d(r){r&&k(l)}}}function he(a){var o;let e,l=a[2]((o=a[10].monthly_balances)==null?void 0:o[a[16].key])+"",t,r;return{c(){e=E("a"),t=j(l),this.h()},l(n){e=y(n,"A",{class:!0,href:!0});var c=T(e);t=A(c,l),c.forEach(k),this.h()},h(){v(e,"class","drill-link"),v(e,"href",r=a[5](a[10].account_id,a[16].key))},m(n,c){w(n,e,c),p(e,t)},p(n,c){var u;c&7&&l!==(l=n[2]((u=n[10].monthly_balances)==null?void 0:u[n[16].key])+"")&&M(t,l),c&3&&r!==(r=n[5](n[10].account_id,n[16].key))&&v(e,"href",r)},d(n){n&&k(e)}}}function K(a){let e,l,t;function r(c,u){return u&3&&(l=null),l==null&&(l=!!c[5](c[10].account_id,c[16].key)),l?he:ie}let o=r(a,-1),n=o(a);return{c(){e=E("td"),n.c(),t=N(),this.h()},l(c){e=y(c,"TD",{class:!0});var u=T(e);n.l(u),t=B(u),u.forEach(k),this.h()},h(){v(e,"class","num")},m(c,u){w(c,e,u),n.m(e,null),p(e,t)},p(c,u){o===(o=r(c,u))&&n?n.p(c,u):(n.d(1),n=o(c),n&&(n.c(),n.m(e,t)))},d(c){c&&k(e),n.d()}}}function se(a){let e=a[13].name+"",l;return{c(){l=j(e)},l(t){l=A(t,e)},m(t,r){w(t,l,r)},p(t,r){r&1&&e!==(e=t[13].name+"")&&M(l,e)},d(t){t&&k(l)}}}function fe(a){let e,l=a[13].name+"",t,r;return{c(){e=E("a"),t=j(l),this.h()},l(o){e=y(o,"A",{class:!0,href:!0});var n=T(e);t=A(n,l),n.forEach(k),this.h()},h(){v(e,"class","drill-link"),v(e,"href",r=`/journal-entries?account_id=${a[13].account_id}`)},m(o,n){w(o,e,n),p(e,t)},p(o,n){n&1&&l!==(l=o[13].name+"")&&M(t,l),n&1&&r!==(r=`/journal-entries?account_id=${o[13].account_id}`)&&v(e,"href",r)},d(o){o&&k(e)}}}function _e(a){var t;let e=a[2]((t=a[13].monthly_balances)==null?void 0:t[a[16].key])+"",l;return{c(){l=j(e)},l(r){l=A(r,e)},m(r,o){w(r,l,o)},p(r,o){var n;o&7&&e!==(e=r[2]((n=r[13].monthly_balances)==null?void 0:n[r[16].key])+"")&&M(l,e)},d(r){r&&k(l)}}}function ue(a){var o;let e,l=a[2]((o=a[13].monthly_balances)==null?void 0:o[a[16].key])+"",t,r;return{c(){e=E("a"),t=j(l),this.h()},l(n){e=y(n,"A",{class:!0,href:!0});var c=T(e);t=A(c,l),c.forEach(k),this.h()},h(){v(e,"class","drill-link"),v(e,"href",r=a[5](a[13].account_id,a[16].key))},m(n,c){w(n,e,c),p(e,t)},p(n,c){var u;c&7&&l!==(l=n[2]((u=n[13].monthly_balances)==null?void 0:u[n[16].key])+"")&&M(t,l),c&3&&r!==(r=n[5](n[13].account_id,n[16].key))&&v(e,"href",r)},d(n){n&&k(e)}}}function $(a){let e,l;function t(n,c){return c&3&&(l=null),l==null&&(l=!!n[5](n[13].account_id,n[16].key)),l?ue:_e}let r=t(a,-1),o=r(a);return{c(){e=E("td"),o.c(),this.h()},l(n){e=y(n,"TD",{class:!0});var c=T(e);o.l(c),c.forEach(k),this.h()},h(){v(e,"class","num")},m(n,c){w(n,e,c),o.m(e,null)},p(n,c){r===(r=t(n,c))&&o?o.p(n,c):(o.d(1),o=r(n),o&&(o.c(),o.m(e,null)))},d(n){n&&k(e),o.d()}}}function x(a){let e,l,t,r;function o(s,m){return s[13].account_id?fe:se}let n=o(a),c=n(a),u=D(a[1]),f=[];for(let s=0;s<u.length;s+=1)f[s]=$(F(a,u,s));return{c(){e=E("tr"),l=E("td"),c.c(),t=N();for(let s=0;s<f.length;s+=1)f[s].c();r=N(),this.h()},l(s){e=y(s,"TR",{class:!0});var m=T(e);l=y(m,"TD",{class:!0});var i=T(l);c.l(i),i.forEach(k),t=B(m);for(let h=0;h<f.length;h+=1)f[h].l(m);r=B(m),m.forEach(k),this.h()},h(){v(l,"class","sticky-col sticky-col-1 account-indent"),v(e,"class",a[9]%2===0?"group-alt-a":"group-alt-b")},m(s,m){w(s,e,m),p(e,l),c.m(l,null),p(e,t);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(e,null);p(e,r)},p(s,m){if(n===(n=o(s))&&c?c.p(s,m):(c.d(1),c=n(s),c&&(c.c(),c.m(l,null))),m&39){u=D(s[1]);let i;for(i=0;i<u.length;i+=1){const h=F(s,u,i);f[i]?f[i].p(h,m):(f[i]=$(h),f[i].c(),f[i].m(e,r))}for(;i<f.length;i+=1)f[i].d(1);f.length=u.length}},d(s){s&&k(e),c.d(),L(f,s)}}}function ee(a){let e,l,t,r,o;function n(h,d){return h[10].account_id?ce:ae}let c=n(a),u=c(a),f=D(a[1]),s=[];for(let h=0;h<f.length;h+=1)s[h]=K(G(a,f,h));let m=D(a[10].accounts),i=[];for(let h=0;h<m.length;h+=1)i[h]=x(z(a,m,h));return{c(){e=E("tr"),l=E("td"),u.c(),t=N();for(let h=0;h<s.length;h+=1)s[h].c();r=N();for(let h=0;h<i.length;h+=1)i[h].c();o=O(),this.h()},l(h){e=y(h,"TR",{class:!0});var d=T(e);l=y(d,"TD",{class:!0});var _=T(l);u.l(_),_.forEach(k),t=B(d);for(let g=0;g<s.length;g+=1)s[g].l(d);d.forEach(k),r=B(h);for(let g=0;g<i.length;g+=1)i[g].l(h);o=O(),this.h()},h(){v(l,"class","sticky-col sticky-col-1 parent-indent"),v(e,"class",`parent-row ${a[9]%2===0?"group-alt-a":"group-alt-b"}`)},m(h,d){w(h,e,d),p(e,l),u.m(l,null),p(e,t);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(e,null);w(h,r,d);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(h,d);w(h,o,d)},p(h,d){if(c===(c=n(h))&&u?u.p(h,d):(u.d(1),u=c(h),u&&(u.c(),u.m(l,null))),d&39){f=D(h[1]);let _;for(_=0;_<f.length;_+=1){const g=G(h,f,_);s[_]?s[_].p(g,d):(s[_]=K(g),s[_].c(),s[_].m(e,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=f.length}if(d&39){m=D(h[10].accounts);let _;for(_=0;_<m.length;_+=1){const g=z(h,m,_);i[_]?i[_].p(g,d):(i[_]=x(g),i[_].c(),i[_].m(o.parentNode,o))}for(;_<i.length;_+=1)i[_].d(1);i.length=m.length}},d(h){h&&(k(e),k(r),k(o)),u.d(),L(s,h),L(i,h)}}}function le(a){let e,l,t=a[7].group+"",r,o,n,c,u=D(a[1]),f=[];for(let i=0;i<u.length;i+=1)f[i]=Z(I(a,u,i));let s=D(a[7].parents),m=[];for(let i=0;i<s.length;i+=1)m[i]=ee(Y(a,s,i));return{c(){e=E("tr"),l=E("td"),r=j(t),o=N();for(let i=0;i<f.length;i+=1)f[i].c();n=N();for(let i=0;i<m.length;i+=1)m[i].c();c=O(),this.h()},l(i){e=y(i,"TR",{class:!0});var h=T(e);l=y(h,"TD",{class:!0});var d=T(l);r=A(d,t),d.forEach(k),o=B(h);for(let _=0;_<f.length;_+=1)f[_].l(h);h.forEach(k),n=B(i);for(let _=0;_<m.length;_+=1)m[_].l(i);c=O(),this.h()},h(){v(l,"class","sticky-col sticky-col-1 group-indent"),v(e,"class","group-row")},m(i,h){w(i,e,h),p(e,l),p(l,r),p(e,o);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);w(i,n,h);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(i,h);w(i,c,h)},p(i,h){if(h&1&&t!==(t=i[7].group+"")&&M(r,t),h&7){u=D(i[1]);let d;for(d=0;d<u.length;d+=1){const _=I(i,u,d);f[d]?f[d].p(_,h):(f[d]=Z(_),f[d].c(),f[d].m(e,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=u.length}if(h&39){s=D(i[7].parents);let d;for(d=0;d<s.length;d+=1){const _=Y(i,s,d);m[d]?m[d].p(_,h):(m[d]=ee(_),m[d].c(),m[d].m(c.parentNode,c))}for(;d<m.length;d+=1)m[d].d(1);m.length=s.length}},d(i){i&&(k(e),k(n),k(c)),L(f,i),L(m,i)}}}function de(a){let e,l,t,r,o,n="Account",c,u,f,s,m=D(a[1]),i=[];for(let g=0;g<m.length;g+=1)i[g]=Q(P(a,m,g));let h=a[3]&&U(a),d=D(a[0]),_=[];for(let g=0;g<d.length;g+=1)_[g]=le(W(a,d,g));return{c(){e=E("div"),l=E("table"),t=E("thead"),r=E("tr"),o=E("th"),o.textContent=n,c=N();for(let g=0;g<i.length;g+=1)i[g].c();u=N(),f=E("tbody"),h&&h.c(),s=N();for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=y(g,"DIV",{class:!0});var R=T(e);l=y(R,"TABLE",{class:!0});var b=T(l);t=y(b,"THEAD",{});var H=T(t);r=y(H,"TR",{});var C=T(r);o=y(C,"TH",{class:!0,"data-svelte-h":!0}),oe(o)!=="svelte-5o8ssu"&&(o.textContent=n),c=B(C);for(let V=0;V<i.length;V+=1)i[V].l(C);C.forEach(k),H.forEach(k),u=B(b),f=y(b,"TBODY",{});var S=T(f);h&&h.l(S),s=B(S);for(let V=0;V<_.length;V+=1)_[V].l(S);S.forEach(k),b.forEach(k),R.forEach(k),this.h()},h(){v(o,"class","sticky-col sticky-col-1"),v(l,"class","matrix-table"),v(e,"class","matrix-wrap")},m(g,R){w(g,e,R),p(e,l),p(l,t),p(t,r),p(r,o),p(r,c);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(r,null);p(l,u),p(l,f),h&&h.m(f,null),p(f,s);for(let b=0;b<_.length;b+=1)_[b]&&_[b].m(f,null)},p(g,[R]){if(R&2){m=D(g[1]);let b;for(b=0;b<m.length;b+=1){const H=P(g,m,b);i[b]?i[b].p(H,R):(i[b]=Q(H),i[b].c(),i[b].m(r,null))}for(;b<i.length;b+=1)i[b].d(1);i.length=m.length}if(g[3]?h?h.p(g,R):(h=U(g),h.c(),h.m(f,s)):h&&(h.d(1),h=null),R&39){d=D(g[0]);let b;for(b=0;b<d.length;b+=1){const H=W(g,d,b);_[b]?_[b].p(H,R):(_[b]=le(H),_[b].c(),_[b].m(f,null))}for(;b<_.length;b+=1)_[b].d(1);_.length=d.length}},i:q,o:q,d(g){g&&k(e),L(i,g),h&&h.d(),L(_,g)}}}function me(a){const[e,l]=a.split("-");return new Date(Number(e),Number(l),0).toISOString().slice(0,10)}function ge(a,e,l){let{groups:t=[]}=e,{months:r=[]}=e,{formatValue:o=s=>s??""}=e,{networthByMonth:n=null}=e,{networthLabel:c="NETWORTH"}=e,{drillMode:u=null}=e;function f(s,m){return!s||!u?null:u==="month"?`/journal-entries?account_id=${s}&mode=month&month=${m}`:u==="upto"?`/journal-entries?account_id=${s}&mode=upto&end=${me(m)}`:null}return a.$$set=s=>{"groups"in s&&l(0,t=s.groups),"months"in s&&l(1,r=s.months),"formatValue"in s&&l(2,o=s.formatValue),"networthByMonth"in s&&l(3,n=s.networthByMonth),"networthLabel"in s&&l(4,c=s.networthLabel),"drillMode"in s&&l(6,u=s.drillMode)},[t,r,o,n,c,f,u]}class pe extends ne{constructor(e){super(),re(this,e,ge,de,te,{groups:0,months:1,formatValue:2,networthByMonth:3,networthLabel:4,drillMode:6})}}export{pe as N};
